function y = lowpass10_new(x)
%LOWPASS10_NEW Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.7 and DSP System Toolbox 9.9.
% Generated on: 20-Sep-2020 11:46:08

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % FIR Window Lowpass filter designed using the FIR1 function.
    %
    % % All frequency values are in Hz.
    % Fs = 250;  % Sampling Frequency
    %
    % Fpass = 10;              % Passband Frequency
    % Fstop = 12;              % Stopband Frequency
    % Dpass = 0.057501127785;  % Passband Ripple
    % Dstop = 0.031622776602;  % Stopband Attenuation
    % flag  = 'scale';         % Sampling Flag
    %
    % % Calculate the order from the parameters using KAISERORD.
    % [N,Wn,BETA,TYPE] = kaiserord([Fpass Fstop]/(Fs/2), [1 0], [Dstop Dpass]);
    %
    % % Calculate the coefficients using the FIR1 function.
    % b  = fir1(N, Wn, TYPE, kaiser(N+1, BETA), flag);
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [0.00132341894136443 0.0012550316855865 ...
        0.00108145236030671 0.000809541046181648 0.000454608952474807 ...
        3.97151954971565e-05 -0.000405716916240995 -0.000847891517662145 ...
        -0.00125111273521723 -0.00158056413462319 -0.00180518577019347 ...
        -0.00190041951222952 -0.00185059102668155 -0.00165071333266568 ...
        -0.00130753190756328 -0.000839682951187666 -0.000276901311418527 ...
        0.000341711884293297 0.000970275186500577 0.00155940594697051 ...
        0.00205996752983754 0.0024270096320896 0.00262359636275345 ...
        0.00262420932022118 0.00241743021068504 0.00200764941795565 ...
        0.00141561123935652 0.000677689219578986 -0.000156119542815994 ...
        -0.00102539104507042 -0.00186347272435366 -0.00260240501606096 ...
        -0.00317821594909203 -0.00353619094239052 -0.00363570126967466 ...
        -0.00345418779289601 -0.00298994202971689 -0.00226340240324796 ...
        -0.00131678514506232 -0.000211990084080956 0.000973147042860863 ...
        0.00215005178735033 0.00322573067233891 0.00410978253798453 ...
        0.00472159508605789 0.00499717982476004 0.00489509833545229 ...
        0.00440097444092134 0.00353016921194611 0.00232831440747355 ...
        0.000869547554059838 -0.000747541430137577 -0.00240606810145415 ...
        -0.00397876324379295 -0.00533713160472919 -0.00636123682716657 ...
        -0.00694941063095831 -0.0070271535632178 -0.00655451673568512 ...
        -0.005531329580001 -0.00399976453050736 -0.00204389861499177 ...
        0.000213866322145327 0.0026194419354586 0.00499644216906108 ...
        0.00715780119364915 0.00891891369459222 0.0101114474450835 ...
        0.0105968889026788 0.0102788558689608 0.00911325130175513 ...
        0.00711543881495614 0.00436378817428603 0.00099915863780696 ...
        -0.00277985420272609 -0.00672580294187094 -0.0105550165423547 ...
        -0.0139633181757589 -0.0166439474153882 -0.0183066219884202 ...
        -0.0186965602986976 -0.017612246931798 -0.0149207639380393 ...
        -0.0105696301080633 -0.00459428257206173 0.00287941133475471 ...
        0.0116379244755938 0.0213881086545186 0.0317701554633578 ...
        0.0423748166798361 0.0527639423977299 0.0624931717198743 ...
        0.0711354587621765 0.0783040466628069 0.0836735196657958 ...
        0.08699766778376 0.0881230838889386 0.08699766778376 0.0836735196657958 ...
        0.0783040466628069 0.0711354587621765 0.0624931717198743 ...
        0.0527639423977299 0.0423748166798361 0.0317701554633578 ...
        0.0213881086545186 0.0116379244755938 0.00287941133475471 ...
        -0.00459428257206173 -0.0105696301080633 -0.0149207639380393 ...
        -0.017612246931798 -0.0186965602986976 -0.0183066219884202 ...
        -0.0166439474153882 -0.0139633181757589 -0.0105550165423547 ...
        -0.00672580294187094 -0.00277985420272609 0.00099915863780696 ...
        0.00436378817428603 0.00711543881495614 0.00911325130175513 ...
        0.0102788558689608 0.0105968889026788 0.0101114474450835 ...
        0.00891891369459222 0.00715780119364915 0.00499644216906108 ...
        0.0026194419354586 0.000213866322145327 -0.00204389861499177 ...
        -0.00399976453050736 -0.005531329580001 -0.00655451673568512 ...
        -0.0070271535632178 -0.00694941063095831 -0.00636123682716657 ...
        -0.00533713160472919 -0.00397876324379295 -0.00240606810145415 ...
        -0.000747541430137577 0.000869547554059838 0.00232831440747355 ...
        0.00353016921194611 0.00440097444092134 0.00489509833545229 ...
        0.00499717982476004 0.00472159508605789 0.00410978253798453 ...
        0.00322573067233891 0.00215005178735033 0.000973147042860863 ...
        -0.000211990084080956 -0.00131678514506232 -0.00226340240324796 ...
        -0.00298994202971689 -0.00345418779289601 -0.00363570126967466 ...
        -0.00353619094239052 -0.00317821594909203 -0.00260240501606096 ...
        -0.00186347272435366 -0.00102539104507042 -0.000156119542815994 ...
        0.000677689219578986 0.00141561123935652 0.00200764941795565 ...
        0.00241743021068504 0.00262420932022118 0.00262359636275345 ...
        0.0024270096320896 0.00205996752983754 0.00155940594697051 ...
        0.000970275186500577 0.000341711884293297 -0.000276901311418527 ...
        -0.000839682951187666 -0.00130753190756328 -0.00165071333266568 ...
        -0.00185059102668155 -0.00190041951222952 -0.00180518577019347 ...
        -0.00158056413462319 -0.00125111273521723 -0.000847891517662145 ...
        -0.000405716916240995 3.97151954971565e-05 0.000454608952474807 ...
        0.000809541046181648 0.00108145236030671 0.0012550316855865 ...
        0.00132341894136443]);
end

y = step(Hd,double(x));
ytmp = step(Hd,double(flip(y)));
y = flip(ytmp);


% [EOF]
